# --- Server (Railway will inject PORT) ---
server.port=${PORT:8080}

# --- DataSource (use Railway's PG env vars) ---
spring.datasource.url=jdbc:postgresql://${PGHOST}:${PGPORT}/${PGDATABASE}
spring.datasource.username=${postgres}
spring.datasource.password=${1932011.eg}
spring.datasource.driver-class-name=org.postgresql.Driver

# --- JPA ---
# Let Hibernate create the tables on a fresh DB
spring.jpa.hibernate.ddl-auto=update
spring.jpa.open-in-view=false
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# --- Flyway ---
# Your only migration is V2__... and it expects tables that don't exist yet,
# so it blocks startup. Disable Flyway for now.
spring.flyway.enabled=false

# (optional) Trim logs in production
logging.level.org.hibernate.SQL=INFO
logging.level.org.flywaydb=INFO
